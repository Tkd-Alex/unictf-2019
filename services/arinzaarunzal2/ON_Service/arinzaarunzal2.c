
																																																																																																																																																																																																				char madaeafeev[]="                                                                                                                             \n\                                
																																																																																																																																																																																																				                      |:`.:                                                                                                                     \n\              
																																																																																																																																																																																																				                    `......+                                                                                                                    \n\              
																																																																																																																																																																																																				                    +......``                                                                                                                   \n\              
																																																																																																																																																																																																				                    ........#.,:                                         |:||:,..,,::|,,                                                        \n\              
																																																																																																																																																																																																				                    `.......:,.#                                       +................`:: ,                                                   \n\              
																																																																																																																																																																																																				                    `.......,..#                                     :`,....................:.                                                  \n\              
																																																																																																																																																																																																				                    `..:.....`.:                                   ...........................+                                        :+`      \n\              
																																																																																																																																																																																																				                    `...#......,                                  :`............................,                                    `:...+     \n\              
																																																																																																																																																																																																				                    :....`....`                                  ,...............................+                                   .....,#    \n\              
																																																																																																																																																																																																				                    #...``....`                                  `................................+                             ##  :......:    \n\             
																																																																																																																																																																																																				                    ,...`......                                 :,.................................:                            +.,+.......:    \n\              
																																																																																																																																																																																																				                     .........,                                ,...................................``                           +.,`.......#    \n\              
																																																																																																																																																																																																				                     #........:                                :..........`::..:,...................:                           #.+....+,..,    \n\              
																																																																																																																																																																																																				                     ``.......:                               ...........+`.....`,,..................:                          #....+`...:     \n\              
																																																																																																																																																																																																				                      :.......:                               #......................................:                          #...:....``     \n\              
																																																																																																																																																																																																				                      :........                               ........................................`                         +...:...,+      \n\              
																																																																																																																																																																																																				                       ,......`                              ,............`....`......................#                         ....`...:       \n\              
																																																																																																																																																																																																				                       :.......:                             #...........,@+#.`@:@....................:                        :.......,        \n\              
																																																																																																																																																																																																				                        .......#                             +..........,#+ @`:@`#`...................`                        ,......``        \n\             
																																																																																																																																																																																																				                        +......:                             :...........:@#@.:#@@`...................`                       +.......:         \n\              
																																																																																																																																																																																																				                         `.....`                             :............:+...,:,....................`                       `......+          \n\              
																																																																																																																																																																																																				                         #......:                            :::++:...................................`                      :......#           \n\              
																																																																																																																																																																																																				                          `.....+                           :.....`...................................`                     +......:            \n\              
																																																																																																																																																																																																				                          #.....`                          :...+#` :,........................+........,                    ``......             \n\             
																																																																																																																																																																																																				                          ``.....:                        #..:###:`: :.............`,::###:.,.+.......+                    ,.....`.             \n\              
																																																																																																																																																																																																				                           +,....+                        `.,+++#### ``+.........,# ``,#+#+#...#.....,:                   +......,              \n\              
																																																																																																																																																																																																				                           ``....`                       `..@#+++++# `::`:,,,:::` #+``#+++++#..``....`                   +......:               \n\              
																																																																																																																																																																																																				                            #....,+                      :..#+#+++++###,``# ``+ `,####+++++##`..+....:                  ,......+                \n\              
																																																																																																																																																																																																				                             `....:                      ..,@++++++++++:`##``#+#.#+++++++++++...#....:                 ``.....#`                \n\              
																																																																																																																																																																																																				                             #.....,                      `.+#++++++++++++###++++++++#+++++#+...#....                 ``.....+                  \n\              
																																																																																																																																																																																																				                              .....:                      #..#+#+++++++++++++++++#####+++#++#...+..,+                 ,....,+                   \n\              
																																																																																																																																																																																																				                              :.....,                      ,.`++#+++++++++++++##:::::::##+#+,...`..:                :`.....+                    \n\              
																																																																																																																																																																																																				                               +....:                      `...#+#:#++#++#++++###+:::::::++:...:..`.             .+.......:                     \n\              
																																																																																																																																																																																																				                                .....#                       :..:.`##+#+########+##:::::::....+...:           `+,.,......:                      \n\              
																																																																																																																																																																																																				                                :.....:                       :,..,+:` ##` ##``#+` #:::+:....,...+         .:,.........:`                       \n\              
																																																																																																																																																																																																				                                 #.....+                        `::,.`::::,::..`#,,+:,`...,+....#       .+...........+`                         \n\              
																																																																																																																																																																																																				                                  +.,....:,                      #,....................,:,.....+    `::.........`::.                            \n\              
																																																																																																																																																																																																				                                   +........+.                    ............................:``,+...........::                                \n\              
																																																																																																																																																																																																				                                    ,:.........::`                ::........................:,::.........`::.                                   \n\              
																																																																																																																																																																																																				                                      ,:.........`,+.              #:.....................::...........+:                                       \n\              
																																																																																																																																																																																																				                                        `::...........:::           ::.......:.....:::::,.........`::.                                          \n\              
																																																																																																																																																																																																				                                            +:.............:+.`    ``.`,:+:,...................,+,                                              \n\              
																																																																																																																																																																																																				                                               ,::..............:::#........................::`                                                 \n\              
																																																																																																																																																																																																				                                                   `::..................................::                                                      \n\              
																																																																																																																																																																																																				                                                       `,::,`......................`::.                                                         \n\              
																																																																																																																																																																																																				                                                             `++,.#...............#                                                             \n\ 
																																																																																																																																																																																																				";
																																																																																																																																																																																																																																																																																																									const char* gghhfbf="\nLook at me, I'm Mr Meeseeks!\n";
																																																																																																																																																																																																																																																																																																									const char* qweafvf="How the hell do you find me?!?!?\n(Ah, I left you the source...)\nNow tell me who are you?\n";		
																																																																																																																																																																																																																																																																																																									const char* awbbttt="Ah, my lord System please take a load off.\nWould you mind telling me your address?\n";
																																																																																																																																																																																																																																																																																																									const char* ipaddr="";
																																																																																																																																																																																																																																																																																																									const char* aeogrgr="Why are you here?!?!? Get away from here!!!!\n";
																																																																																																																																																																																																																																																																																																									const char* ojvejev="Nono, your local address\n";
																																																																																																																																																																																																																																																																																																									const char* localaddr="";
																																																																																																																																																																																																																																																																																																									const char* kgwewew="Nono your physical address\n";
																																																																																																																																																																																																																																																																																																									const char* mggeege="Nah, you were wrong, Byeee!\n";
																																																																																																																																																																																																																																																																																																									const char* afmekww="Eh you wanted!!!!\nYou did not expect it!!\n Look what a face, look what a face!!\n";
																																																																																																																																																																																																																																																																																																									const char* bkbrbrr="Arinzarunza!!\n";
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/socket.h>
#include <sys/ioctl.h>
#include <netinet/in.h>
#include <net/if.h>
#include <arpa/inet.h>
#include <netdb.h> 
#define NUMS_ENTRY 16
#define NAME_LENGTH 32
#define STR_LENGTH 64
#define STR_LENGHT 128



const char BANNER[] = "\
     ▄▄▄       ██▀███   ██▓ ███▄    █ ▒███████▒ ▄▄▄      ▄▄▄       ██▀███   █    ██  ███▄    █ ▒███████▒ ▄▄▄      \n\
    ▒████▄    ▓██ ▒ ██▒▓██▒ ██ ▀█   █ ▒ ▒ ▒ ▄▀░▒████▄   ▒████▄    ▓██ ▒ ██▒ ██  ▓██▒ ██ ▀█   █ ▒ ▒ ▒ ▄▀░▒████▄    \n\
    ▒██  ▀█▄  ▓██ ░▄█ ▒▒██▒▓██  ▀█ ██▒░ ▒ ▄▀▒░ ▒██  ▀█▄ ▒██  ▀█▄  ▓██ ░▄█ ▒▓██  ▒██░▓██  ▀█ ██▒░ ▒ ▄▀▒░ ▒██  ▀█▄  \n\
    ░██▄▄▄▄██ ▒██▀▀█▄  ░██░▓██▒  ▐▌██▒  ▄▀▒   ░░██▄▄▄▄██░██▄▄▄▄██ ▒██▀▀█▄  ▓▓█  ░██░▓██▒  ▐▌██▒  ▄▀▒   ░░██▄▄▄▄██ \n\
     ▓█   ▓██▒░██▓ ▒██▒░██░▒██░   ▓██░▒███████▒ ▓█   ▓██▒▓█   ▓██▒░██▓ ▒██▒▒▒█████▓ ▒██░   ▓██░▒███████▒ ▓█   ▓██▒\n\
     ▒▒   ▓▒█░░ ▒▓ ░▒▓░░▓  ░ ▒░   ▒ ▒ ░▒▒ ▓░▒░▒ ▒▒   ▓▒█░▒▒   ▓▒█░░ ▒▓ ░▒▓░░▒▓▒ ▒ ▒ ░ ▒░   ▒ ▒ ░▒▒ ▓░▒░▒ ▒▒   ▓▒█░\n\
      ▒   ▒▒ ░  ░▒ ░ ▒░ ▒ ░░ ░░   ░ ▒░░░▒ ▒ ░ ▒  ▒   ▒▒ ░ ▒   ▒▒ ░  ░▒ ░ ▒░░░▒░ ░ ░ ░ ░░   ░ ▒░░░▒ ▒ ░ ▒  ▒   ▒▒ ░\n\
      ░   ▒     ░░   ░  ▒ ░   ░   ░ ░ ░ ░ ░ ░ ░  ░   ▒    ░   ▒     ░░   ░  ░░░ ░ ░    ░   ░ ░ ░ ░ ░ ░ ░  ░   ▒   \n\
          ░  ░   ░      ░           ░   ░ ░          ░  ░     ░  ░   ░        ░              ░   ░ ░          ░  ░\n\
                                      ░                                                        ░                  \n\
  \n\
";
const char level[]="\n Level 2\n";


const char START[] = "Hello there!\nThis is Home-Addresses-Manager-v.0.1.0\n";
const int ii=0x73;
const int r=0x79;
const int f=0x6d;	
const int n=0x74;
const int p=0x73;
const int t=0x65;	
char ascvrrf[7];
void error(char* e)
{
	printf("ERROR: %s",e);
	exit(1);
}
void getArinza(char* Ibuf)
{
    int n;
    struct ifreq ifr;
    char array[] = "eth0";
    char ip[32];
    n = socket(AF_INET, SOCK_DGRAM, 0);
    ifr.ifr_addr.sa_family = AF_INET;
    strncpy(ifr.ifr_name , array , IFNAMSIZ - 1);
    ioctl(n, SIOCGIFADDR, &ifr);
    close(n);
    strcpy(Ibuf,inet_ntoa(((struct sockaddr_in *)&ifr.ifr_addr )->sin_addr));

}
void getArunza(char* Ibuf)
{
    int n;
    struct ifreq ifr;
    char array[] = "lo";
    char ip[32];
    n = socket(AF_INET, SOCK_DGRAM, 0);
    ifr.ifr_addr.sa_family = AF_INET;
    strncpy(ifr.ifr_name , array , IFNAMSIZ - 1);
    ioctl(n, SIOCGIFADDR, &ifr);
    close(n);
    strcpy(Ibuf,inet_ntoa(((struct sockaddr_in *)&ifr.ifr_addr )->sin_addr));

}
void read_line(char *buf, size_t buf_sz) {
  if (!fgets(buf, buf_sz, stdin)) {
    error("fgets()");
  }
  size_t read_cnt = strlen(buf);
  if (read_cnt && buf[read_cnt-1] == '\n') {
    buf[read_cnt-1] = 0;
  }
}
int read_int() {
  char buf[128];
  read_line(buf, sizeof(buf));
  return atoi(buf);
}


int current_entry;
int id[NUMS_ENTRY];
char name[NUMS_ENTRY][NAME_LENGTH];
char address[NUMS_ENTRY][STR_LENGTH];
const char* arfaae="What is yuor name?\n";																																																																						
const char* qwqfqh="insert your Address line\n";
const char* fhsdvs="Ok your ID entry is %d \n";
const char* cvsvsd="All entry deleted, maybe...\n";
const char MENU[] = "\nMenu':\n\
8) Insert Address\n\
18) Print Addresses\n\
28) Delete all Adddress\n\
38) Exit\n\
> ";
void insert_start()
{
	id[0]=0;
	id[1]=1;
	id[2]=2;
	id[3]=3;
	id[4]=4;
	id[5]=5;
	strcpy(name[0],"Pippo");
	strcpy(name[1],"Maccio");
	strcpy(name[2],"ZEB");
	strcpy(name[3],"system");
	strcpy(name[4],"ROOT");
	strcpy(name[5],"printf");
	strcpy(address[0],"Via Google 00");
	strcpy(address[1],"piazzale capotondolo 123");
	strcpy(address[2],"Via dell'opzione ??");
	strcpy(address[3],"via del saltaci dentro \"0xb7as23a1\"");
	strcpy(address[4],"viavalle expoiliti AH");
	strcpy(address[5],"0xb773aa32");
	current_entry=6;
}
void init_entry()
{
	int i;
	current_entry=0;
	memset(name,0,NAME_LENGTH);
	memset(address,0,STR_LENGTH);
	for (i=0;i<NUMS_ENTRY;i++)
		id[i]=-1;
	insert_start();
}
int insert_entry(char* nam, char* addr)
{
	if(current_entry>NUMS_ENTRY-1)
	{
		printf("You have reached the maximum number of entries!\n");
		return -1;
	}
	id[current_entry]=current_entry;
	strncpy(name[current_entry],nam,NAME_LENGTH-1);
	strncpy(address[current_entry],addr,STR_LENGTH-1);
	current_entry++;
	return current_entry-1;
}
void insert()
{	
	char addr[STR_LENGTH];
	char nam[NAME_LENGTH];
	char buff[STR_LENGTH];

	printf(arfaae); 
	fflush(stdout);
	read_line(buff,NAME_LENGTH-1);
	fflush(stdout);
	strncpy(nam,buff,NAME_LENGTH-1);

	printf(qwqfqh); 
	fflush(stdout);
	read_line(buff,STR_LENGTH-1);
	fflush(stdout);
	strncpy(addr,buff,STR_LENGTH-1);
	insert_entry(nam,addr);
	printf(fhsdvs,current_entry-1);
}

void CamilloQuattrocchi(){
	printf("Camillo Quattrocchi send you a kiss!\n");
}

void delete_all()
{
	printf(cvsvsd);
	init_entry();
	insert_start();
}
void print_entries()
{
	int i;
	
   	if(current_entry==0)
   	{
   		puts("Empy list of addresses!\n");
   	}
  	puts("+=========================================================================================================+\n");
	for(i=0;i<current_entry;i++)
	{
		 printf("| %2d | %-31s | %-63s \n", i,name[i],address[i]);

	}
	puts("+=========================================================================================================+\n");

}
void troll(){
	fflush(stdout);
	printf(gghhfbf);
	puts(madaeafeev);
}
void ex(){
	exit(0);
}
int pooifwg()
{
	fflush(stdout);
	fflush(stdout);
	char STRunz[STR_LENGTH];
	printf(afmekww);
	fflush(stdout);
	fgets(STRunz,STR_LENGTH,stdin);
	return 0;
}
int vvrevreg()
{	
	fflush(stdout);
	fflush(stdout);
	char STRunz[STR_LENGTH];
	printf(bkbrbrr);
	fflush(stdout);
	fgets(STRunz,STR_LENGHT,stdin);
	return 0;

}
void jnjnefomvwe()
{
	fflush(stdout);
	char buf[STR_LENGTH];
	char buff[STR_LENGTH];
	printf(qweafvf);
	fflush(stdout);
	read_line(buff,STR_LENGTH-1);
	fflush(stdout);
	if(strcmp(buff,ascvrrf)==0)
	{
		memset(buff,0,STR_LENGTH);
		printf(awbbttt);
		getArinza(buf);
		fflush(stdout);
		read_line(buff,STR_LENGTH-1);
		fflush(stdout);
		if(strcmp(buff,buf)==0)
		{

			memset(buff,0,STR_LENGTH);
			memset(buf,0,STR_LENGTH);
			printf(ojvejev);
			getArunza(buf);
			fflush(stdout);
			read_line(buff,STR_LENGTH-1);
			fflush(stdout);
			if(strcmp(buff,buf)==0)
			{
				memset(buff,0,STR_LENGTH);
				printf(kgwewew);
				fflush(stdout);
				read_line(buff,STR_LENGTH-1);
				fflush(stdout);
				if(strcmp(buff,qweafvf)==0)
					pooifwg();
				else
					vvrevreg();
			}
			else
				printf(mggeege);
		}
		else
			printf(mggeege);
	}
	else
		printf(aeogrgr);
}
int main()
{
	
	puts(BANNER);
	puts(level);
	puts(START);
	init_entry();
	ascvrrf[0]=p;
	ascvrrf[1]=r;
	ascvrrf[2]=ii;
	ascvrrf[3]=n;
	ascvrrf[4]=t;
	ascvrrf[5]=f;
	ascvrrf[6]='\0';
	while (1) 
	{
		printf(MENU);
		fflush(stdout);
		
		int choice = read_int();	
		switch (choice) 
		{
			case 010:
			insert();
			break;
			case 022:
			print_entries();

			break;
			case 034:
			delete_all();
			break;
			case 046:
			ex();
			break;
			case 0131:
			jnjnefomvwe();
			break;
			case 02756:
			
			troll();
			break;
			default:
			printf("unknown option :%d\n", choice);
			break;
    	}
	}
}

